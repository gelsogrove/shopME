{
  "name": "Debug Workflow - Check Values",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "webhook-start",
        "responseMode": "lastNode",
        "options": {}
      },
      "id": "webhook-debug",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [200, 200]
    },
    {
      "parameters": {
        "jsCode": "const item = $input.first().json;\n\n// Debug tutti i valori che arrivano\nconst businessInfo = item.precompiledData?.businessInfo;\nconst customer = item.precompiledData?.customer;\n\nconst debugInfo = {\n  'businessInfo exists': !!businessInfo,\n  'businessInfo.isActive value': businessInfo?.isActive,\n  'businessInfo.isActive type': typeof businessInfo?.isActive,\n  'businessInfo.isActive === true': businessInfo?.isActive === true,\n  'businessInfo.isActive == true': businessInfo?.isActive == true,\n  'Boolean(businessInfo.isActive)': Boolean(businessInfo?.isActive),\n  'customer.activeChatbot value': customer?.activeChatbot,\n  'customer.activeChatbot type': typeof customer?.activeChatbot,\n  'customer.isBlacklisted value': customer?.isBlacklisted,\n  'customer.isBlacklisted type': typeof customer?.isBlacklisted,\n  'full businessInfo': businessInfo,\n  'full customer': customer\n};\n\nconst message = `üîç DEBUG VALUES:\\n${JSON.stringify(debugInfo, null, 2)}`;\n\nreturn [{\n  json: {\n    message: message\n  }\n}];"
      },
      "id": "debug-values",
      "name": "Debug Values",
      "type": "n8n-nodes-base.code",
      "typeVersion": 1,
      "position": [400, 200]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Debug Values",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true
} 